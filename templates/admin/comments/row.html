{{define "comments/row.html"}}
<article id="comment-{{.ID}}" style="margin-bottom: 1rem;">
    <div style="display: flex; justify-content: space-between; align-items: start;">
        <div style="flex-grow: 1;">
            <strong>{{.Author}}</strong>
            <span class="badge" data-status="{{.Status}}">{{.Status}}</span>
            <small style="display: block; color: var(--muted-color);">{{.CreatedAt.Format "2006-01-02 15:04"}}</small>
            <p style="margin-top: 0.5rem;">{{.Text}}</p>
        </div>
        <div style="display: flex; gap: 0.5rem; flex-shrink: 0;">
            {{if eq .Status "pending"}}
            <button hx-post="/admin/comments/{{.ID}}/approve" hx-target="#comment-{{.ID}}" hx-swap="outerHTML" class="secondary">Approve</button>
            <button hx-post="/admin/comments/{{.ID}}/reject" hx-target="#comment-{{.ID}}" hx-swap="outerHTML" class="secondary">Reject</button>
            {{end}}
            <button hx-delete="/admin/comments/{{.ID}}" hx-target="#comment-{{.ID}}" hx-swap="outerHTML" hx-confirm="Are you sure you want to delete this comment?" class="secondary" style="background-color: var(--del-color);">Delete</button>
        </div>
    </div>
</article>
{{end}}
